(function(/*! Brunch !*/) {
  'use strict';

  var globals = typeof window !== 'undefined' ? window : global;
  if (typeof globals.require === 'function') return;

  var modules = {};
  var cache = {};

  var has = function(object, name) {
    return ({}).hasOwnProperty.call(object, name);
  };

  var expand = function(root, name) {
    var results = [], parts, part;
    if (/^\.\.?(\/|$)/.test(name)) {
      parts = [root, name].join('/').split('/');
    } else {
      parts = name.split('/');
    }
    for (var i = 0, length = parts.length; i < length; i++) {
      part = parts[i];
      if (part === '..') {
        results.pop();
      } else if (part !== '.' && part !== '') {
        results.push(part);
      }
    }
    return results.join('/');
  };

  var dirname = function(path) {
    return path.split('/').slice(0, -1).join('/');
  };

  var localRequire = function(path) {
    return function(name) {
      var dir = dirname(path);
      var absolute = expand(dir, name);
      return globals.require(absolute, path);
    };
  };

  var initModule = function(name, definition) {
    var module = {id: name, exports: {}};
    definition(module.exports, localRequire(name), module);
    var exports = cache[name] = module.exports;
    return exports;
  };

  var require = function(name, loaderPath) {
    var path = expand(name, '.');
    if (loaderPath == null) loaderPath = '/';

    if (has(cache, path)) return cache[path];
    if (has(modules, path)) return initModule(path, modules[path]);

    var dirIndex = expand(path, './index');
    if (has(cache, dirIndex)) return cache[dirIndex];
    if (has(modules, dirIndex)) return initModule(dirIndex, modules[dirIndex]);

    throw new Error('Cannot find module "' + name + '" from '+ '"' + loaderPath + '"');
  };

  var define = function(bundle, fn) {
    if (typeof bundle === 'object') {
      for (var key in bundle) {
        if (has(bundle, key)) {
          modules[key] = bundle[key];
        }
      }
    } else {
      modules[bundle] = fn;
    }
  };

  var list = function() {
    var result = [];
    for (var item in modules) {
      if (has(modules, item)) {
        result.push(item);
      }
    }
    return result;
  };

  globals.require = require;
  globals.require.define = define;
  globals.require.register = define;
  globals.require.list = list;
  globals.require.brunch = true;
})();
(function() {
  var WebSocket = window.WebSocket || window.MozWebSocket;
  var br = window.brunch = (window.brunch || {});
  var ar = br['auto-reload'] = (br['auto-reload'] || {});
  if (!WebSocket || ar.disabled) return;

  var cacheBuster = function(url){
    var date = Math.round(Date.now() / 1000).toString();
    url = url.replace(/(\&|\\?)cacheBuster=\d*/, '');
    return url + (url.indexOf('?') >= 0 ? '&' : '?') +'cacheBuster=' + date;
  };

  var reloaders = {
    page: function(){
      window.location.reload(true);
    },

    stylesheet: function(){
      [].slice
        .call(document.querySelectorAll('link[rel="stylesheet"]'))
        .filter(function(link){
          return (link != null && link.href != null);
        })
        .forEach(function(link) {
          link.href = cacheBuster(link.href);
        });
    }
  };
  var port = ar.port || 9485;
  var host = (!br['server']) ? window.location.hostname : br['server'];
  var connection = new WebSocket('ws://' + host + ':' + port);
  connection.onmessage = function(event) {
    var message = event.data;
    if (ar.disabled) return;
    if (reloaders[message] != null) {
      reloaders[message]();
    } else {
      reloaders.page();
    }
  };
})();

;(function(){var str="{{ a }}",splitter;if(str.split(/(\{\{.*?\}\})/).length===0){splitter=function(str,separator,limit){if(Object.prototype.toString.call(separator)!=="[object RegExp]"){return splitter._nativeSplit.call(str,separator,limit)}var output=[],lastLastIndex=0,flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.sticky?"y":""),separator2,match,lastIndex,lastLength;separator=RegExp(separator.source,flags+"g");str=str.toString();if(!splitter._compliantExecNpcg){separator2=RegExp("^"+separator.source+"$(?!\\s)",flags)}if(limit===undefined||limit<0){limit=Infinity}else{limit=Math.floor(+limit);if(!limit){return[]}}function fixExec(){var i=1;for(i;i<arguments.length-2;i+=1){if(arguments[i]===undefined){match[i]=undefined}}}match=separator.exec(str);while(match){lastIndex=match.index+match[0].length;if(lastIndex>lastLastIndex){output.push(str.slice(lastLastIndex,match.index));if(!splitter._compliantExecNpcg&&match.length>1){match[0].replace(separator2,fixExec)}if(match.length>1&&match.index<str.length){Array.prototype.push.apply(output,match.slice(1))}lastLength=match[0].length;lastLastIndex=lastIndex;if(output.length>=limit){break}}if(separator.lastIndex===match.index){separator.lastIndex+=1}match=separator.exec(str)}if(lastLastIndex===str.length){if(lastLength||!separator.test("")){output.push("")}}else{output.push(str.slice(lastLastIndex))}return output.length>limit?output.slice(0,limit):output};splitter._compliantExecNpcg=/()??/.exec("")[1]===undefined;splitter._nativeSplit=String.prototype.split;String.prototype.split=function(separator,limit){return splitter(this,separator,limit)}}})();swig=function(){var swig={},dateformat={},filters={},helpers={},parser={},tags={};(function(){var root=this;var previousUnderscore=root._;var breaker={};var ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype;var push=ArrayProto.push,slice=ArrayProto.slice,concat=ArrayProto.concat,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty;var nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind;var _=function(obj){if(obj instanceof _)return obj;if(!(this instanceof _))return new _(obj);this._wrapped=obj};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=_}exports._=_}else{root._=_}_.VERSION="1.4.3";var each=_.each=_.forEach=function(obj,iterator,context){if(obj==null)return;if(nativeForEach&&obj.forEach===nativeForEach){obj.forEach(iterator,context)}else if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++){if(iterator.call(context,obj[i],i,obj)===breaker)return}}else{for(var key in obj){if(_.has(obj,key)){if(iterator.call(context,obj[key],key,obj)===breaker)return}}}};_.map=_.collect=function(obj,iterator,context){var results=[];if(obj==null)return results;if(nativeMap&&obj.map===nativeMap)return obj.map(iterator,context);each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list)});return results};var reduceError="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null)obj=[];if(nativeReduce&&obj.reduce===nativeReduce){if(context)iterator=_.bind(iterator,context);return initial?obj.reduce(iterator,memo):obj.reduce(iterator)}each(obj,function(value,index,list){if(!initial){memo=value;initial=true}else{memo=iterator.call(context,memo,value,index,list)}});if(!initial)throw new TypeError(reduceError);return memo};_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null)obj=[];if(nativeReduceRight&&obj.reduceRight===nativeReduceRight){if(context)iterator=_.bind(iterator,context);return initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator)}var length=obj.length;if(length!==+length){var keys=_.keys(obj);length=keys.length}each(obj,function(value,index,list){index=keys?keys[--length]:--length;if(!initial){memo=obj[index];initial=true}else{memo=iterator.call(context,memo,obj[index],index,list)}});if(!initial)throw new TypeError(reduceError);return memo};_.find=_.detect=function(obj,iterator,context){var result;any(obj,function(value,index,list){if(iterator.call(context,value,index,list)){result=value;return true}});return result};_.filter=_.select=function(obj,iterator,context){var results=[];if(obj==null)return results;if(nativeFilter&&obj.filter===nativeFilter)return obj.filter(iterator,context);each(obj,function(value,index,list){if(iterator.call(context,value,index,list))results[results.length]=value});return results};_.reject=function(obj,iterator,context){return _.filter(obj,function(value,index,list){return!iterator.call(context,value,index,list)},context)};_.every=_.all=function(obj,iterator,context){iterator||(iterator=_.identity);var result=true;if(obj==null)return result;if(nativeEvery&&obj.every===nativeEvery)return obj.every(iterator,context);each(obj,function(value,index,list){if(!(result=result&&iterator.call(context,value,index,list)))return breaker});return!!result};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=false;if(obj==null)return result;if(nativeSome&&obj.some===nativeSome)return obj.some(iterator,context);each(obj,function(value,index,list){if(result||(result=iterator.call(context,value,index,list)))return breaker});return!!result};_.contains=_.include=function(obj,target){if(obj==null)return false;if(nativeIndexOf&&obj.indexOf===nativeIndexOf)return obj.indexOf(target)!=-1;return any(obj,function(value){return value===target})};_.invoke=function(obj,method){var args=slice.call(arguments,2);return _.map(obj,function(value){return(_.isFunction(method)?method:value[method]).apply(value,args)})};_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})};_.where=function(obj,attrs){if(_.isEmpty(attrs))return[];return _.filter(obj,function(value){for(var key in attrs){if(attrs[key]!==value[key])return false}return true})};_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535){return Math.max.apply(Math,obj)}if(!iterator&&_.isEmpty(obj))return-Infinity;var result={computed:-Infinity,value:-Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>=result.computed&&(result={value:value,computed:computed})});return result.value};_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535){return Math.min.apply(Math,obj)}if(!iterator&&_.isEmpty(obj))return Infinity;var result={computed:Infinity,value:Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed})});return result.value};_.shuffle=function(obj){var rand;var index=0;var shuffled=[];each(obj,function(value){rand=_.random(index++);shuffled[index-1]=shuffled[rand];shuffled[rand]=value});return shuffled};var lookupIterator=function(value){return _.isFunction(value)?value:function(obj){return obj[value]}};_.sortBy=function(obj,value,context){var iterator=lookupIterator(value);return _.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria;var b=right.criteria;if(a!==b){if(a>b||a===void 0)return 1;if(a<b||b===void 0)return-1}return left.index<right.index?-1:1}),"value")};var group=function(obj,value,context,behavior){var result={};var iterator=lookupIterator(value||_.identity);each(obj,function(value,index){var key=iterator.call(context,value,index,obj);behavior(result,key,value)});return result};_.groupBy=function(obj,value,context){return group(obj,value,context,function(result,key,value){(_.has(result,key)?result[key]:result[key]=[]).push(value)})};_.countBy=function(obj,value,context){return group(obj,value,context,function(result,key){if(!_.has(result,key))result[key]=0;result[key]++})};_.sortedIndex=function(array,obj,iterator,context){iterator=iterator==null?_.identity:lookupIterator(iterator);var value=iterator.call(context,obj);var low=0,high=array.length;while(low<high){var mid=low+high>>>1;iterator.call(context,array[mid])<value?low=mid+1:high=mid}return low};_.toArray=function(obj){if(!obj)return[];if(_.isArray(obj))return slice.call(obj);if(obj.length===+obj.length)return _.map(obj,_.identity);return _.values(obj)};_.size=function(obj){if(obj==null)return 0;return obj.length===+obj.length?obj.length:_.keys(obj).length};_.first=_.head=_.take=function(array,n,guard){if(array==null)return void 0;return n!=null&&!guard?slice.call(array,0,n):array[0]};_.initial=function(array,n,guard){return slice.call(array,0,array.length-(n==null||guard?1:n))};_.last=function(array,n,guard){if(array==null)return void 0;if(n!=null&&!guard){return slice.call(array,Math.max(array.length-n,0))}else{return array[array.length-1]}};_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,n==null||guard?1:n)};_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,output){each(input,function(value){if(_.isArray(value)){shallow?push.apply(output,value):flatten(value,shallow,output)}else{output.push(value)}});return output};_.flatten=function(array,shallow){return flatten(array,shallow,[])};_.without=function(array){return _.difference(array,slice.call(arguments,1))};_.uniq=_.unique=function(array,isSorted,iterator,context){if(_.isFunction(isSorted)){context=iterator;iterator=isSorted;isSorted=false}var initial=iterator?_.map(array,iterator,context):array;var results=[];var seen=[];each(initial,function(value,index){if(isSorted?!index||seen[seen.length-1]!==value:!_.contains(seen,value)){seen.push(value);results.push(array[index])}});return results};_.union=function(){return _.uniq(concat.apply(ArrayProto,arguments))};_.intersection=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})};_.difference=function(array){var rest=concat.apply(ArrayProto,slice.call(arguments,1));return _.filter(array,function(value){return!_.contains(rest,value)})};_.zip=function(){var args=slice.call(arguments);var length=_.max(_.pluck(args,"length"));var results=new Array(length);for(var i=0;i<length;i++){results[i]=_.pluck(args,""+i)}return results};_.object=function(list,values){if(list==null)return{};var result={};for(var i=0,l=list.length;i<l;i++){if(values){result[list[i]]=values[i]}else{result[list[i][0]]=list[i][1]}}return result};_.indexOf=function(array,item,isSorted){if(array==null)return-1;var i=0,l=array.length;if(isSorted){if(typeof isSorted=="number"){i=isSorted<0?Math.max(0,l+isSorted):isSorted}else{i=_.sortedIndex(array,item);return array[i]===item?i:-1}}if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item,isSorted);for(;i<l;i++)if(array[i]===item)return i;return-1};_.lastIndexOf=function(array,item,from){if(array==null)return-1;var hasIndex=from!=null;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf){return hasIndex?array.lastIndexOf(item,from):array.lastIndexOf(item)}var i=hasIndex?from:array.length;while(i--)if(array[i]===item)return i;return-1};_.range=function(start,stop,step){if(arguments.length<=1){stop=start||0;start=0}step=arguments[2]||1;var len=Math.max(Math.ceil((stop-start)/step),0);var idx=0;var range=new Array(len);while(idx<len){range[idx++]=start;start+=step}return range};var ctor=function(){};_.bind=function(func,context){var args,bound;if(func.bind===nativeBind&&nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError;args=slice.call(arguments,2);return bound=function(){if(!(this instanceof bound))return func.apply(context,args.concat(slice.call(arguments)));ctor.prototype=func.prototype;var self=new ctor;ctor.prototype=null;var result=func.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result)return result;return self}};_.bindAll=function(obj){var funcs=slice.call(arguments,1);if(funcs.length==0)funcs=_.functions(obj);each(funcs,function(f){obj[f]=_.bind(obj[f],obj)});return obj};_.memoize=function(func,hasher){var memo={};hasher||(hasher=_.identity);return function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}};_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)};_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))};_.throttle=function(func,wait){var context,args,timeout,result;var previous=0;var later=function(){previous=new Date;timeout=null;result=func.apply(context,args)};return function(){var now=new Date;var remaining=wait-(now-previous);context=this;args=arguments;if(remaining<=0){clearTimeout(timeout);timeout=null;previous=now;result=func.apply(context,args)}else if(!timeout){timeout=setTimeout(later,remaining)}return result}};_.debounce=function(func,wait,immediate){var timeout,result;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)result=func.apply(context,args)};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)result=func.apply(context,args);return result}};_.once=function(func){var ran=false,memo;return function(){if(ran)return memo;ran=true;memo=func.apply(this,arguments);func=null;return memo}};_.wrap=function(func,wrapper){return function(){var args=[func];push.apply(args,arguments);return wrapper.apply(this,args)}};_.compose=function(){var funcs=arguments;return function(){var args=arguments;for(var i=funcs.length-1;i>=0;i--){args=[funcs[i].apply(this,args)]}return args[0]}};_.after=function(times,func){if(times<=0)return func();return function(){if(--times<1){return func.apply(this,arguments)}}};_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError("Invalid object");var keys=[];for(var key in obj)if(_.has(obj,key))keys[keys.length]=key;return keys};_.values=function(obj){var values=[];for(var key in obj)if(_.has(obj,key))values.push(obj[key]);return values};_.pairs=function(obj){var pairs=[];for(var key in obj)if(_.has(obj,key))pairs.push([key,obj[key]]);return pairs};_.invert=function(obj){var result={};for(var key in obj)if(_.has(obj,key))result[obj[key]]=key;return result};_.functions=_.methods=function(obj){var names=[];for(var key in obj){if(_.isFunction(obj[key]))names.push(key)}return names.sort()};_.extend=function(obj){each(slice.call(arguments,1),function(source){if(source){for(var prop in source){obj[prop]=source[prop]}}});return obj};_.pick=function(obj){var copy={};var keys=concat.apply(ArrayProto,slice.call(arguments,1));each(keys,function(key){if(key in obj)copy[key]=obj[key]});return copy};_.omit=function(obj){var copy={};var keys=concat.apply(ArrayProto,slice.call(arguments,1));for(var key in obj){if(!_.contains(keys,key))copy[key]=obj[key]}return copy};_.defaults=function(obj){each(slice.call(arguments,1),function(source){if(source){for(var prop in source){if(obj[prop]==null)obj[prop]=source[prop]}}});return obj};_.clone=function(obj){if(!_.isObject(obj))return obj;return _.isArray(obj)?obj.slice():_.extend({},obj)};_.tap=function(obj,interceptor){interceptor(obj);return obj};var eq=function(a,b,aStack,bStack){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;if(a instanceof _)a=a._wrapped;if(b instanceof _)b=b._wrapped;var className=toString.call(a);if(className!=toString.call(b))return false;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return false;var length=aStack.length;while(length--){if(aStack[length]==a)return bStack[length]==b}aStack.push(a);bStack.push(b);var size=0,result=true;if(className=="[object Array]"){size=a.length;result=size==b.length;if(result){while(size--){if(!(result=eq(a[size],b[size],aStack,bStack)))break}}}else{var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor)){return false}for(var key in a){if(_.has(a,key)){size++;if(!(result=_.has(b,key)&&eq(a[key],b[key],aStack,bStack)))break}}if(result){for(key in b){if(_.has(b,key)&&!size--)break}result=!size}}aStack.pop();bStack.pop();return result};_.isEqual=function(a,b){return eq(a,b,[],[])};_.isEmpty=function(obj){if(obj==null)return true;if(_.isArray(obj)||_.isString(obj))return obj.length===0;for(var key in obj)if(_.has(obj,key))return false;return true};_.isElement=function(obj){return!!(obj&&obj.nodeType===1)};_.isArray=nativeIsArray||function(obj){return toString.call(obj)=="[object Array]"};_.isObject=function(obj){return obj===Object(obj)};each(["Arguments","Function","String","Number","Date","RegExp"],function(name){_["is"+name]=function(obj){return toString.call(obj)=="[object "+name+"]"}});if(!_.isArguments(arguments)){_.isArguments=function(obj){return!!(obj&&_.has(obj,"callee"))}}if(typeof/./!=="function"){_.isFunction=function(obj){return typeof obj==="function"}}_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))};_.isNaN=function(obj){return _.isNumber(obj)&&obj!=+obj};_.isBoolean=function(obj){return obj===true||obj===false||toString.call(obj)=="[object Boolean]"};_.isNull=function(obj){return obj===null};_.isUndefined=function(obj){return obj===void 0};_.has=function(obj,key){return hasOwnProperty.call(obj,key)};_.noConflict=function(){root._=previousUnderscore;return this};_.identity=function(value){return value};_.times=function(n,iterator,context){var accum=Array(n);for(var i=0;i<n;i++)accum[i]=iterator.call(context,i);return accum};_.random=function(min,max){if(max==null){max=min;min=0}return min+(0|Math.random()*(max-min+1))};var entityMap={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};entityMap.unescape=_.invert(entityMap.escape);var entityRegexes={escape:new RegExp("["+_.keys(entityMap.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(entityMap.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(method){_[method]=function(string){if(string==null)return"";return(""+string).replace(entityRegexes[method],function(match){return entityMap[method][match]})}});_.result=function(object,property){if(object==null)return null;var value=object[property];return _.isFunction(value)?value.call(object):value};_.mixin=function(obj){each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];push.apply(args,arguments);return result.call(this,func.apply(_,args))}})};var idCounter=0;_.uniqueId=function(prefix){var id=""+ ++idCounter;return prefix?prefix+id:id};_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/;var escapes={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"};var escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(text,data,settings){settings=_.defaults({},settings,_.templateSettings);var matcher=new RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g");var index=0;var source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){source+=text.slice(index,offset).replace(escaper,function(match){return"\\"+escapes[match]});if(escape){source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'"}if(interpolate){source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'"}if(evaluate){source+="';\n"+evaluate+"\n__p+='"}index=offset+match.length;return match});source+="';\n";if(!settings.variable)source="with(obj||{}){\n"+source+"}\n";source="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{var render=new Function(settings.variable||"obj","_",source)}catch(e){e.source=source;throw e}if(data)return render(data,_);var template=function(data){return render.call(this,data,_)};template.source="function("+(settings.variable||"obj")+"){\n"+source+"}";return template};_.chain=function(obj){return _(obj).chain()};var result=function(obj){return this._chain?_(obj).chain():obj};_.mixin(_);each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;method.apply(obj,arguments);if((name=="shift"||name=="splice")&&obj.length===0)delete obj[0];return result.call(this,obj)}});each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result.call(this,method.apply(this._wrapped,arguments))}});_.extend(_.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this);(function(exports){var config={allowErrors:false,autoescape:true,cache:true,encoding:"utf8",filters:filters,root:"/",tags:tags,extensions:{},tzOffset:0},_config=_.extend({},config),CACHE={};exports.init=function(options){CACHE={};_config=_.extend({},config,options);_config.filters=_.extend(filters,options.filters);_config.tags=_.extend(tags,options.tags);dateformat.defaultTZOffset=_config.tzOffset};function TemplateError(error){return{render:function(){return"<pre>"+error.stack+"</pre>"}}}function createRenderFunc(code){return new Function("_context","_parents","_filters","_","_ext",["_parents = _parents ? _parents.slice() : [];","_context = _context || {};","var j = _parents.length,",'  _output = "",',"  _this = this;","while (j--) {","   if (_parents[j] === this.id) {",'     return "Circular import of template " + this.id + " in " + _parents[_parents.length-1];',"   }","}","_parents.push(this.id);",code,"return _output;"].join(""))}function createTemplate(data,id){var template={compileFile:exports.compileFile,blocks:{},type:parser.TEMPLATE,id:id},tokens,code,render;if(_config.allowErrors){tokens=parser.parse.call(template,data,_config.tags,_config.autoescape)}else{try{tokens=parser.parse.call(template,data,_config.tags,_config.autoescape)}catch(e){return new TemplateError(e)}}template.tokens=tokens;code=parser.compile.call(template);if(code!==false){render=createRenderFunc(code)}else{render=function(_context,_parents,_filters,_,_ext){template.tokens=tokens;code=parser.compile.call(template,"",_context);var fn=createRenderFunc(code);return fn.call(this,_context,_parents,_filters,_,_ext)}}template.render=function(context,parents){if(_config.allowErrors){return render.call(this,context,parents,_config.filters,_,_config.extensions)}try{return render.call(this,context,parents,_config.filters,_,_config.extensions)}catch(e){return new TemplateError(e)}};return template}function getTemplate(source,options){var key=options.filename||source;if(_config.cache||options.cache){if(!CACHE.hasOwnProperty(key)){CACHE[key]=createTemplate(source,key)}return CACHE[key]}return createTemplate(source,key)}exports.compileFile=function(filepath,forceAllowErrors){var tpl,get;if(_config.cache&&CACHE.hasOwnProperty(filepath)){return CACHE[filepath]}if(typeof window!=="undefined"){throw new TemplateError({stack:"You must pre-compile all templates in-browser. Use `swig.compile(template);`."})}get=function(){var excp,getSingle,c;getSingle=function(prefix){var file=/^\//.test(filepath)||/^.:/.test(filepath)?filepath:prefix+"/"+filepath,data;try{data=fs.readFileSync(file,config.encoding);tpl=getTemplate(data,{filename:filepath})}catch(e){excp=e}};if(typeof _config.root==="string"){getSingle(_config.root)}if(_config.root instanceof Array){c=0;while(tpl===undefined&&c<_config.root.length){getSingle(_config.root[c]);c=c+1}}if(tpl===undefined){throw excp}};if(_config.allowErrors||forceAllowErrors){get()}else{try{get()}catch(error){tpl=new TemplateError(error)}}return tpl};exports.compile=function(source,options){var tmpl=getTemplate(source,options||{});return function(source,options){return tmpl.render(source,options)}}})(swig);(function(exports){var KEYWORDS=/^(Array|ArrayBuffer|Boolean|Date|Error|eval|EvalError|Function|Infinity|Iterator|JSON|Math|Namespace|NaN|Number|Object|QName|RangeError|ReferenceError|RegExp|StopIteration|String|SyntaxError|TypeError|undefined|uneval|URIError|XML|XMLList|break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|this|throw|try|typeof|var|void|while|with)(?=(\.|$))/;exports.isStringLiteral=function(string){if(typeof string!=="string"){return false}var first=string.substring(0,1),last=string.charAt(string.length-1,1),teststr;if(first===last&&(first==="'"||first==='"')){teststr=string.substr(1,string.length-2).split("").reverse().join("");if(first==="'"&&/'(?!\\)/.test(teststr)||last==='"'&&/"(?!\\)/.test(teststr)){throw new Error("Invalid string literal. Unescaped quote ("+string[0]+") found.")}return true}return false};exports.isLiteral=function(string){var literal=false;if(/^\d+([.]\d+)?$/.test(string)){literal=true}else if(exports.isStringLiteral(string)){literal=true}return literal};exports.isValidName=function(string){return typeof string==="string"&&string.substr(0,2)!=="__"&&/^([$A-Za-z_]+[$A-Za-z_0-9]*)(\.?([$A-Za-z_]+[$A-Za-z_0-9]*))*$/.test(string)&&!KEYWORDS.test(string)};exports.isValidShortName=function(string){return string.substr(0,2)!=="__"&&/^[$A-Za-z_]+[$A-Za-z_0-9]*$/.test(string)&&!KEYWORDS.test(string)};exports.isValidBlockName=function(string){return/^[A-Za-z]+[A-Za-z_0-9]*$/.test(string)};function stripWhitespace(input){return input.replace(/^\s+|\s+$/g,"")}exports.stripWhitespace=stripWhitespace;function filterVariablePath(props){var filtered=[],literal="",i=0;for(i;i<props.length;i+=1){if(props[i]&&props[i].charAt(0)!==props[i].charAt(props[i].length-1)&&(props[i].indexOf('"')===0||props[i].indexOf("'")===0)){literal=props[i];continue}if(props[i]==="."&&literal){literal+=".";continue}if(props[i].indexOf('"')===props[i].length-1||props[i].indexOf("'")===props[i].length-1){literal+=props[i];filtered.push(literal);literal=""}else{filtered.push(props[i])}}return _.compact(filtered)}function check(variable,context){if(_.isArray(variable)){return"(true)"}variable=variable.replace(/^this/,"_this.__currentContext");if(exports.isLiteral(variable)){return"(true)"}var props=variable.split(/(\.|\[|\])/),chain="",output=[],inArr=false,prevDot=false;if(typeof context==="string"&&context.length){props.unshift(context)}props=_.reject(props,function(val){return val===""});props=filterVariablePath(props);_.each(props,function(prop){if(prop==="."){prevDot=true;return}if(prop==="["){inArr=true;return}if(prop==="]"){inArr=false;return}if(!chain){chain=prop}else if(inArr){if(!exports.isStringLiteral(prop)){if(prevDot){output[output.length-1]=_.last(output).replace(/\] !== "undefined"$/,"_"+prop+'] !== "undefined"');chain=chain.replace(/\]$/,"_"+prop+"]");return}chain+="[___"+prop+"]"}else{chain+="["+prop+"]"}}else{chain+="."+prop}prevDot=false;output.push("typeof "+chain+' !== "undefined"')});return"("+output.join(" && ")+")"}exports.check=check;exports.escapeVarName=function(variable,context){if(_.isArray(variable)){_.each(variable,function(val,key){variable[key]=exports.escapeVarName(val,context)});return variable}variable=variable.replace(/^this/,"_this.__currentContext");if(exports.isLiteral(variable)){return variable}if(typeof context==="string"&&context.length){variable=context+"."+variable}var chain="",props=variable.split(/(\.|\[|\])/),inArr=false,prevDot=false;props=_.reject(props,function(val){return val===""});props=filterVariablePath(props);_.each(props,function(prop){if(prop==="."){prevDot=true;return}if(prop==="["){inArr=true;return}if(prop==="]"){inArr=false;return}if(!chain){chain=prop}else if(inArr){if(!exports.isStringLiteral(prop)){if(prevDot){chain=chain.replace(/\]$/,"_"+prop+"]")}else{chain+="[___"+prop+"]"}}else{chain+="["+prop+"]"}}else{chain+="."+prop}prevDot=false});return chain};exports.wrapMethod=function(variable,filter,context){var output="(function () {\n",args;variable=variable||'""';if(!filter){return variable}args=filter.args.split(",");args=_.map(args,function(value){var varname,stripped=value.replace(/^\s+|\s+$/g,"");try{varname="__"+parser.parseVariable(stripped).name.replace(/\W/g,"_")}catch(e){return value}if(exports.isValidName(stripped)){output+=exports.setVar(varname,parser.parseVariable(stripped));return varname}return value});args=args&&args.length?args.join(","):'""';output+="return ";output+=context?context+'["':"";output+=filter.name;output+=context?'"]':"";output+=".call(this";output+=args.length?", "+args:"";output+=");\n";return output+"})()"};exports.wrapFilter=function(variable,filter){var output="",args="";variable=variable||'""';if(!filter){return variable}if(filters.hasOwnProperty(filter.name)){args=filter.args?variable+", "+filter.args:variable;output+=exports.wrapMethod(variable,{name:filter.name,args:args},"_filters")}else{throw new Error('Filter "'+filter.name+'" not found')}return output};exports.wrapFilters=function(variable,filters,context,escape){var output=exports.escapeVarName(variable,context);if(filters&&filters.length>0){_.each(filters,function(filter){switch(filter.name){case"raw":escape=false;return;case"e":case"escape":escape=filter.args||escape;return;default:output=exports.wrapFilter(output,filter,"_filters");break}})}output=output||'""';if(escape){output="_filters.escape.call(this, "+output+", "+escape+")"}return output};exports.setVar=function(varName,argument){var out="",props,output,inArr;if(/\[/.test(argument.name)){props=argument.name.split(/(\[|\])/);output=[];inArr=false;_.each(props,function(prop){if(prop===""){return}if(prop==="["){inArr=true;return}if(prop==="]"){inArr=false;return}if(inArr&&!exports.isStringLiteral(prop)){out+=exports.setVar("___"+prop.replace(/\W/g,"_"),{name:prop,filters:[],escape:true})}})}out+="var "+varName+' = "";\n'+"if ("+check(argument.name,"_context")+") {\n"+"  "+varName+" = "+exports.wrapFilters(argument.name,argument.filters,"_context",argument.escape)+";\n"+"} else if ("+check(argument.name)+") {\n"+"  "+varName+" = "+exports.wrapFilters(argument.name,argument.filters,null,argument.escape)+";\n"+"}\n";if(argument.filters.length){out+=" else if (true) {\n";out+="  "+varName+" = "+exports.wrapFilters("",argument.filters,null,argument.escape)+";\n";out+="}\n"}return out};exports.parseIfArgs=function(args,parser){var operators=["==","<",">","!=","<=",">=","===","!==","&&","||","in","and","or","mod","%"],errorString="Bad if-syntax in `{% if "+args.join(" ")+" %}...",startParen=/^\(+/,endParen=/\)+$/,tokens=[],prevType,last,closing=0;_.each(args,function(value,index){var endsep=0,startsep=0,operand;if(startParen.test(value)){startsep=value.match(startParen)[0].length;closing+=startsep;value=value.replace(startParen,"");while(startsep){startsep-=1;tokens.push({type:"separator",value:"("})}}if(/^\![^=]/.test(value)||value==="not"){if(value==="not"){value=""}else{value=value.substr(1)}tokens.push({type:"operator",value:"!"})}if(endParen.test(value)&&value.indexOf("(")===-1){if(!closing){throw new Error(errorString)}endsep=value.match(endParen)[0].length;value=value.replace(endParen,"");closing-=endsep}if(value==="in"){last=tokens.pop();prevType="inindex"}else if(_.indexOf(operators,value)!==-1){if(prevType==="operator"){throw new Error(errorString)
}value=value.replace("and","&&").replace("or","||").replace("mod","%");tokens.push({value:value});prevType="operator"}else if(value!==""){if(prevType==="value"){throw new Error(errorString)}operand=parser.parseVariable(value);if(prevType==="inindex"){tokens.push({preout:last.preout+exports.setVar("__op"+index,operand),value:"(((_.isArray(__op"+index+") || typeof __op"+index+' === "string") && _.indexOf(__op'+index+", "+last.value+") !== -1) || (typeof __op"+index+' === "object" && '+last.value+" in __op"+index+"))"});last=null}else{tokens.push({preout:exports.setVar("__op"+index,operand),value:"__op"+index})}prevType="value"}while(endsep){endsep-=1;tokens.push({type:"separator",value:")"})}});if(closing>0){throw new Error(errorString)}return tokens}})(helpers);(function(exports){var _months={full:["January","February","March","April","May","June","July","August","September","October","November","December"],abbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},_days={full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],alt:{"-1":"Yesterday",0:"Today",1:"Tomorrow"}};exports.defaultTZOffset=0;exports.DateZ=function(){var members={"default":["getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","toISOString","toGMTString","toUTCString","valueOf","getTime"],z:["getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getYear","toDateString","toLocaleDateString","toLocaleTimeString"],string:["toLocaleString","toString","toTimeString"],zSet:["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setYear"],set:["setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds"],"static":["UTC","parse"]},d=this,i;d.date=d.dateZ=arguments.length>1?new Date(Date.UTC.apply(Date,arguments)+(new Date).getTimezoneOffset()*6e4):arguments.length===1?new Date(new Date(arguments["0"])):new Date;d.timezoneOffset=d.dateZ.getTimezoneOffset();function zeroPad(i){return i<10?"0"+i:i}function _toTZString(){var hours=zeroPad(Math.floor(Math.abs(d.timezoneOffset)/60)),minutes=zeroPad(Math.abs(d.timezoneOffset)-hours*60),prefix=d.timezoneOffset<0?"+":"-",abbr=d.tzAbbreviation===undefined?"":" ("+d.tzAbbreviation+")";return"GMT"+prefix+hours+minutes+abbr}_.each(members.z,function(name){d[name]=function(){return d.dateZ[name]()}});_.each(members.string,function(name){d[name]=function(){return d.dateZ[name].apply(d.dateZ,[]).replace(/GMT[+\-]\\d{4} \\(([a-zA-Z]{3,4})\\)/,_toTZString())}});_.each(members["default"],function(name){d[name]=function(){return d.date[name]()}});_.each(members["static"],function(name){d[name]=function(){return Date[name].apply(Date,arguments)}});_.each(members.zSet,function(name){d[name]=function(){d.dateZ[name].apply(d.dateZ,arguments);d.date=new Date(d.dateZ.getTime()-d.dateZ.getTimezoneOffset()*6e4+d.timezoneOffset*6e4);return d}});_.each(members.set,function(name){d[name]=function(){d.date[name].apply(d.date,arguments);d.dateZ=new Date(d.date.getTime()+d.date.getTimezoneOffset()*6e4-d.timezoneOffset*6e4);return d}});if(exports.defaultTZOffset){this.setTimezoneOffset(exports.defaultTZOffset)}};exports.DateZ.prototype={getTimezoneOffset:function(){return this.timezoneOffset},setTimezoneOffset:function(offset,abbr){this.timezoneOffset=offset;if(abbr){this.tzAbbreviation=abbr}this.dateZ=new Date(this.date.getTime()+this.date.getTimezoneOffset()*6e4-this.timezoneOffset*6e4);return this}};exports.d=function(input){return(input.getDate()<10?"0":"")+input.getDate()};exports.D=function(input){return _days.abbr[input.getDay()]};exports.j=function(input){return input.getDate()};exports.l=function(input){return _days.full[input.getDay()]};exports.N=function(input){var d=input.getDay();return d>=1?d+1:7};exports.S=function(input){var d=input.getDate();return d%10===1&&d!==11?"st":d%10===2&&d!==12?"nd":d%10===3&&d!==13?"rd":"th"};exports.w=function(input){return input.getDay()};exports.z=function(input,offset,abbr){var year=input.getFullYear(),e=new exports.DateZ(year,input.getMonth(),input.getDate(),12,0,0),d=new exports.DateZ(year,0,1,12,0,0);e.setTimezoneOffset(offset,abbr);d.setTimezoneOffset(offset,abbr);return Math.round((e-d)/864e5)};exports.W=function(input){var target=new Date(input.valueOf()),dayNr=(input.getDay()+6)%7,fThurs;target.setDate(target.getDate()-dayNr+3);fThurs=target.valueOf();target.setMonth(0,1);if(target.getDay()!==4){target.setMonth(0,1+(4-target.getDay()+7)%7)}return 1+Math.ceil((fThurs-target)/6048e5)};exports.F=function(input){return _months.full[input.getMonth()]};exports.m=function(input){return(input.getMonth()<9?"0":"")+(input.getMonth()+1)};exports.M=function(input){return _months.abbr[input.getMonth()]};exports.n=function(input){return input.getMonth()+1};exports.t=function(input){return 32-new Date(input.getFullYear(),input.getMonth(),32).getDate()};exports.L=function(input){return new Date(input.getFullYear(),1,29).getDate()===29};exports.o=function(input){var target=new Date(input.valueOf());target.setDate(target.getDate()-(input.getDay()+6)%7+3);return target.getFullYear()};exports.Y=function(input){return input.getFullYear()};exports.y=function(input){return input.getFullYear().toString().substr(2)};exports.a=function(input){return input.getHours()<12?"am":"pm"};exports.A=function(input){return input.getHours()<12?"AM":"PM"};exports.B=function(input){var hours=input.getUTCHours(),beats;hours=hours===23?0:hours+1;beats=Math.abs(((hours*60+input.getUTCMinutes())*60+input.getUTCSeconds())/86.4).toFixed(0);return"000".concat(beats).slice(beats.length)};exports.g=function(input){var h=input.getHours();return h===0?12:h>12?h-12:h};exports.G=function(input){return input.getHours()};exports.h=function(input){var h=input.getHours();return(h<10||12<h&&22>h?"0":"")+(h<12?h:h-12)};exports.H=function(input){var h=input.getHours();return(h<10?"0":"")+h};exports.i=function(input){var m=input.getMinutes();return(m<10?"0":"")+m};exports.s=function(input){var s=input.getSeconds();return(s<10?"0":"")+s};exports.O=function(input){var tz=input.getTimezoneOffset();return(tz<0?"-":"+")+(tz/60<10?"0":"")+Math.abs(tz/60)+"00"};exports.Z=function(input){return input.getTimezoneOffset()*60};exports.c=function(input){return input.toISOString()};exports.r=function(input){return input.toUTCString()};exports.U=function(input){return input.getTime()/1e3}})(dateformat);(function(exports){exports.add=function(input,addend){if(_.isArray(input)&&_.isArray(addend)){return input.concat(addend)}if(typeof input==="object"&&typeof addend==="object"){return _.extend(input,addend)}if(_.isNumber(input)&&_.isNumber(addend)){return input+addend}return input+addend};exports.addslashes=function(input){if(typeof input==="object"){_.each(input,function(value,key){input[key]=exports.addslashes(value)});return input}return input.replace(/\\/g,"\\\\").replace(/\'/g,"\\'").replace(/\"/g,'\\"')};exports.capitalize=function(input){if(typeof input==="object"){_.each(input,function(value,key){input[key]=exports.capitalize(value)});return input}return input.toString().charAt(0).toUpperCase()+input.toString().substr(1).toLowerCase()};exports.date=function(input,format,offset,abbr){var l=format.length,date=new dateformat.DateZ(input),cur,i=0,out="";if(offset){date.setTimezoneOffset(offset,abbr)}for(i;i<l;i+=1){cur=format.charAt(i);if(dateformat.hasOwnProperty(cur)){out+=dateformat[cur](date,offset,abbr)}else{out+=cur}}return out};exports["default"]=function(input,def){return typeof input!=="undefined"&&(input||typeof input==="number")?input:def};exports.escape=exports.e=function(input,type){type=type||"html";if(typeof input==="string"){if(type==="js"){var i=0,code,out="";input=input.replace(/\\/g,"\\u005C");for(i;i<input.length;i+=1){code=input.charCodeAt(i);if(code<32){code=code.toString(16).toUpperCase();code=code.length<2?"0"+code:code;out+="\\u00"+code}else{out+=input[i]}}return out.replace(/&/g,"\\u0026").replace(/</g,"\\u003C").replace(/>/g,"\\u003E").replace(/\'/g,"\\u0027").replace(/"/g,"\\u0022").replace(/\=/g,"\\u003D").replace(/-/g,"\\u002D").replace(/;/g,"\\u003B")}return input.replace(/&(?!amp;|lt;|gt;|quot;|#39;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}return input};exports.first=function(input){if(typeof input==="object"&&!_.isArray(input)){return""}if(typeof input==="string"){return input.substr(0,1)}return _.first(input)};exports.join=function(input,separator){if(_.isArray(input)){return input.join(separator)}if(typeof input==="object"){var out=[];_.each(input,function(value,key){out.push(value)});return out.join(separator)}return input};exports.json_encode=function(input,indent){return JSON.stringify(input,null,indent||0)};exports.last=function(input){if(typeof input==="object"&&!_.isArray(input)){return""}if(typeof input==="string"){return input.charAt(input.length-1)}return _.last(input)};exports.length=function(input){if(typeof input==="object"){return _.keys(input).length}return input.length};exports.lower=function(input){if(typeof input==="object"){_.each(input,function(value,key){input[key]=exports.lower(value)});return input}return input.toString().toLowerCase()};exports.replace=function(input,search,replacement,flags){var r=new RegExp(search,flags);return input.replace(r,replacement)};exports.reverse=function(input){if(_.isArray(input)){return input.reverse()}return input};exports.striptags=function(input){if(typeof input==="object"){_.each(input,function(value,key){input[key]=exports.striptags(value)});return input}return input.toString().replace(/(<([^>]+)>)/gi,"")};exports.title=function(input){if(typeof input==="object"){_.each(input,function(value,key){input[key]=exports.title(value)});return input}return input.toString().replace(/\w\S*/g,function(str){return str.charAt(0).toUpperCase()+str.substr(1).toLowerCase()})};exports.uniq=function(input){return _.uniq(input)};exports.upper=function(input){if(typeof input==="object"){_.each(input,function(value,key){input[key]=exports.upper(value)});return input}return input.toString().toUpperCase()};exports.url_encode=function(input){return encodeURIComponent(input)};exports.url_decode=function(input){return decodeURIComponent(input)}})(filters);(function(exports){var variableRegexp=/^\{\{[^\r]*?\}\}$/,logicRegexp=/^\{%[^\r]*?%\}$/,commentRegexp=/^\{#[^\r]*?#\}$/,TEMPLATE=exports.TEMPLATE=0,LOGIC_TOKEN=1,VAR_TOKEN=2;exports.TOKEN_TYPES={TEMPLATE:TEMPLATE,LOGIC:LOGIC_TOKEN,VAR:VAR_TOKEN};function getMethod(input){return helpers.stripWhitespace(input).match(/^[\w\.]+/)[0]}function doubleEscape(input){return input.replace(/\\/g,"\\\\")}function getArgs(input){return doubleEscape(helpers.stripWhitespace(input).replace(/^[\w\.]+\(|\)$/g,""))}function getContextVar(varName,context){var a=varName.split(".");while(a.length){context=context[a.splice(0,1)[0]]}return context}function getTokenArgs(token,parts){parts=_.map(parts,doubleEscape);var i=0,l=parts.length,arg,ender,out=[];function concat(from,ending){var end=new RegExp("\\"+ending+"$"),i=from,out="";while(!end.test(out)&&i<parts.length){out+=" "+parts[i];parts[i]=null;i+=1}if(!end.test(out)){throw new Error("Malformed arguments "+out+" sent to tag.")}return out.replace(/^ /,"")}for(i;i<l;i+=1){arg=parts[i];if(arg===null||/^\s+$/.test(arg)){continue}if(/^\"/.test(arg)&&!/\"[\]\}]?$/.test(arg)||/^\'/.test(arg)&&!/\'[\]\}]?$/.test(arg)||/^\{/.test(arg)&&!/\}$/.test(arg)||/^\[/.test(arg)&&!/\]$/.test(arg)){switch(arg.substr(0,1)){case"'":ender="'";break;case'"':ender='"';break;case"[":ender="]";break;case"{":ender="}";break}out.push(concat(i,ender));continue}out.push(arg)}return out}function findSubBlocks(topToken,blocks){_.each(topToken.tokens,function(token,index){if(token.name==="block"){blocks[token.args[0]]=token;findSubBlocks(token,blocks)}})}function getParentBlock(token){var block;if(token.parentBlock){block=token.parentBlock}else if(token.parent){block=getParentBlock(_.last(token.parent))}return block}exports.parseVariable=function(token,escape){if(!token){return{type:null,name:"",filters:[],escape:escape}}var filters=[],parts=token.replace(/^\{\{\s*|\s*\}\}$/g,"").split("|"),varname=parts.shift(),args=null,part;if(/\(/.test(varname)){args=getArgs(varname.replace(/^\w+\./,""));varname=getMethod(varname)}_.each(parts,function(part,i){if(part&&(/^[\w\.]+\(/.test(part)||/\)$/.test(part))&&!/^[\w\.]+\([^\)]*\)$/.test(part)){parts[i]+=parts[i+1]?"|"+parts[i+1]:"";parts[i+1]=false}});parts=_.without(parts,false);_.each(parts,function(part){var filter_name=getMethod(part);if(/\(/.test(part)){filters.push({name:filter_name,args:getArgs(part)})}else{filters.push({name:filter_name,args:""})}});return{type:VAR_TOKEN,name:varname,args:args,filters:filters,escape:escape}};exports.parse=function(data,tags,autoescape){var rawtokens=helpers.stripWhitespace(data).split(/(\{%[^\r]*?%\}|\{\{.*?\}\}|\{#[^\r]*?#\})/),escape=!!autoescape,last_escape=escape,stack=[[]],index=0,i=0,j=rawtokens.length,token,parts,tagname,lines=1,curline=1,newlines=null,lastToken,rawStart=/^\{\% *raw *\%\}/,rawEnd=/\{\% *endraw *\%\}$/,inRaw=false,stripAfter=false,stripBefore=false,stripStart=false,stripEnd=false;for(i;i<j;i+=1){token=rawtokens[i];curline=lines;newlines=token.match(/\n/g);stripAfter=false;stripBefore=false;stripStart=false;stripEnd=false;if(newlines){lines+=newlines.length}if(inRaw!==false&&!rawEnd.test(token)){inRaw+=token;continue}if(token.length===0||commentRegexp.test(token)){continue}else if(/^\s+$/.test(token)){token=token.replace(/ +/," ").replace(/\n+/,"\n")}else if(variableRegexp.test(token)){token=exports.parseVariable(token,escape)}else if(logicRegexp.test(token)){if(rawEnd.test(token)){token=inRaw+token.replace(rawEnd,"");inRaw=false;stack[index].push(token);continue}if(rawStart.test(token)){inRaw=token.replace(rawStart,"");continue}parts=token.replace(/^\{%\s*|\s*%\}$/g,"").split(" ");if(parts[0]==="-"){stripBefore=true;parts.shift()}tagname=parts.shift();if(_.last(parts)==="-"){stripAfter=true;parts.pop()}if(index>0&&/^end/.test(tagname)){lastToken=_.last(stack[stack.length-2]);if("end"+lastToken.name===tagname){if(lastToken.name==="autoescape"){escape=last_escape}lastToken.strip.end=stripBefore;lastToken.strip.after=stripAfter;stack.pop();index-=1;continue}throw new Error('Expected end tag for "'+lastToken.name+'", but found "'+tagname+'" at line '+lines+".")}if(!tags.hasOwnProperty(tagname)){throw new Error("Unknown logic tag at line "+lines+': "'+tagname+'".')}if(tagname==="autoescape"){last_escape=escape;escape=!parts.length||parts[0]==="true"?parts.length>=2?parts[1]:true:false}token={type:LOGIC_TOKEN,line:curline,name:tagname,compile:tags[tagname],parent:_.uniq(stack[stack.length-2]||[]),strip:{before:stripBefore,after:stripAfter,start:false,end:false}};token.args=getTokenArgs(token,parts);if(tags[tagname].ends){token.strip.after=false;token.strip.start=stripAfter;stack[index].push(token);stack.push(token.tokens=[]);index+=1;continue}}stack[index].push(token)}if(inRaw!==false){throw new Error('Missing expected end tag for "raw" on line '+curline+".")}if(index!==0){lastToken=_.last(stack[stack.length-2]);throw new Error('Missing end tag for "'+lastToken.name+'" that was opened on line '+lastToken.line+".")}return stack[index]};function precompile(indent,context){var filepath,extendsHasVar,preservedTokens=[];if(this.type===TEMPLATE){_.each(this.tokens,function(token,index){if(!extendsHasVar){if(token.name==="extends"){filepath=token.args[0];if(!helpers.isStringLiteral(filepath)){if(!context){extendsHasVar=true;return}filepath='"'+getContextVar(filepath,context)+'"'}if(!helpers.isStringLiteral(filepath)||token.args.length>1){throw new Error("Extends tag on line "+token.line+" accepts exactly one string literal as an argument.")}if(index>0){throw new Error('Extends tag must be the first tag in the template, but "extends" found on line '+token.line+".")}token.template=this.compileFile(filepath.replace(/['"]/g,""),true);this.parent=token.template;this.blocks=_.extend({},this.parent.blocks,this.blocks)}else if(token.name==="block"){var blockname=token.args[0],parentBlockIndex;if(!helpers.isValidBlockName(blockname)||token.args.length!==1){throw new Error('Invalid block tag name "'+blockname+'" on line '+token.line+".")}this.blocks[blockname]=token;findSubBlocks(token,this.blocks);if(this.parent){token.parentBlock=this.parent.blocks[blockname];parentBlockIndex=_.indexOf(this.parent.tokens,this.parent.blocks[blockname]);if(parentBlockIndex>=0){this.parent.tokens[parentBlockIndex]=token}}}else if(token.type===LOGIC_TOKEN){preservedTokens.push(token)}}},this);if(extendsHasVar){return false}if(this.parent&&this.parent.tokens){this.tokens=preservedTokens.concat(this.parent.tokens)}}}exports.compile=function compile(indent,context,template){var code="",wrappedInMethod,blockname,parentBlock;indent=indent||"";if(this.type===TEMPLATE){template=this}if(!this.blocks){this.blocks={}}if(precompile.call(this,indent,context)===false){return false}_.each(this.tokens,function(token,index){var name,key,args,prev,next;if(typeof token==="string"){prev=this.tokens[index-1];next=this.tokens[index+1];if(prev&&prev.strip&&prev.strip.after){token=token.replace(/^\s+/,"")}if(next&&next.strip&&next.strip.before){token=token.replace(/\s+$/,"")}code+='_output += "'+doubleEscape(token).replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/"/g,'\\"')+'";\n';return code}if(typeof token!=="object"){return}if(token.type===VAR_TOKEN){name=token.name.replace(/\W/g,"_");key=helpers.isLiteral(name)?'["'+name+'"]':"."+name;args=token.args&&token.args.length?token.args:"";code+='if (typeof _context !== "undefined" && typeof _context'+key+' === "function") {\n';wrappedInMethod=helpers.wrapMethod("",{name:name,args:args},"_context");code+='  _output = (typeof _output === "undefined") ? '+wrappedInMethod+": _output + "+wrappedInMethod+";\n";if(helpers.isValidName(name)){code+="} else if (typeof "+name+' === "function") {\n';wrappedInMethod=helpers.wrapMethod("",{name:name,args:args});code+='  _output = (typeof _output === "undefined") ? '+wrappedInMethod+": _output + "+wrappedInMethod+";\n"}code+="} else {\n";code+=helpers.setVar("__"+name,token);code+='  _output = (typeof _output === "undefined") ? __'+name+": _output + __"+name+";\n";code+="}\n"}if(token.type!==LOGIC_TOKEN){return}if(token.name==="block"){blockname=token.args[0];if(!template.blocks.hasOwnProperty(blockname)){throw new Error('Unrecognized nested block.  Block "'+blockname+'" at line '+token.line+' of "'+template.id+'" is not in template block list.')}code+=compile.call(template.blocks[token.args[0]],indent+"  ",context,template)}else if(token.name==="parent"){parentBlock=getParentBlock(token);if(!parentBlock){throw new Error("No parent block found for parent tag at line "+token.line+".")}code+=compile.call(parentBlock,indent+"  ",context)}else if(token.hasOwnProperty("compile")){if(token.strip.start&&token.tokens.length&&typeof token.tokens[0]==="string"){token.tokens[0]=token.tokens[0].replace(/^\s+/,"")}if(token.strip.end&&token.tokens.length&&typeof _.last(token.tokens)==="string"){token.tokens[token.tokens.length-1]=_.last(token.tokens).replace(/\s+$/,"")}code+=token.compile(indent+"  ",exports)}else{code+=compile.call(token,indent+"  ",context)}},this);return code}})(parser);tags["autoescape"]=function(){module={};module.exports=function(indent,parser){return parser.compile.apply(this,[indent])};module.exports.ends=true;return module.exports}();tags["block"]=function(){module={};module.exports={ends:true};return module.exports}();tags["else"]=function(){module={};module.exports=function(indent,parser){var last=_.last(this.parent).name,thisArgs=_.clone(this.args),ifarg,args,out;if(last==="for"){if(thisArgs.length){throw new Error('"else" tag cannot accept arguments in the "for" context.')}return"} if (__loopLength === 0) {\n"}if(last!=="if"){throw new Error('Cannot call else tag outside of "if" or "for" context.')}ifarg=thisArgs.shift();args=helpers.parseIfArgs(thisArgs,parser);out="";if(ifarg){out+="} else if (\n";out+="  (function () {\n";_.each(args,function(token){if(token.hasOwnProperty("preout")&&token.preout){out+=token.preout+"\n"}});out+="return (\n";_.each(args,function(token){out+=token.value+" "});out+=");\n";out+="  })()\n";out+=") {\n";return out}return indent+"\n} else {\n"};return module.exports}();tags["extends"]=function(){module={};module.exports={};return module.exports}();tags["filter"]=function(){module={};module.exports=function(indent,parser){var thisArgs=_.clone(this.args),name=thisArgs.shift(),args=thisArgs.length?thisArgs.join(", "):"",value="(function () {\n";value+='  var _output = "";\n';value+=parser.compile.apply(this,[indent+"  "])+"\n";value+="  return _output;\n";value+="})()\n";return"_output += "+helpers.wrapFilter(value.replace(/\n/g,""),{name:name,args:args})+";\n"};module.exports.ends=true;return module.exports}();tags["for"]=function(){module={};module.exports=function(indent,parser){var thisArgs=_.clone(this.args),operand1=thisArgs[0],operator=thisArgs[1],operand2=parser.parseVariable(thisArgs[2]),out="",loopShared;indent=indent||"";if(typeof operator!=="undefined"&&operator!=="in"){throw new Error('Invalid syntax in "for" tag')}if(!helpers.isValidShortName(operand1)){throw new Error("Invalid arguments ("+operand1+') passed to "for" tag')}if(!helpers.isValidName(operand2.name)){throw new Error("Invalid arguments ("+operand2.name+') passed to "for" tag')}operand1=helpers.escapeVarName(operand1);loopShared="loop.index = __loopIndex + 1;\n"+"loop.index0 = __loopIndex;\n"+"loop.revindex = __loopLength - loop.index0;\n"+"loop.revindex0 = loop.revindex - 1;\n"+"loop.first = (__loopIndex === 0);\n"+"loop.last = (__loopIndex === __loopLength - 1);\n"+'_context["'+operand1+'"] = __loopIter[loop.key];\n'+parser.compile.apply(this,[indent+"   "]);out="(function () {\n"+"  var loop = {}, __loopKey, __loopIndex = 0, __loopLength = 0, __keys = [],"+'    __ctx_operand = _context["'+operand1+'"],\n'+"    loop_cycle = function() {\n"+"      var args = _.toArray(arguments), i = loop.index0 % args.length;\n"+"      return args[i];\n"+"    };\n"+helpers.setVar("__loopIter",operand2)+"  else {\n"+"    return;\n"+"  }\n"+"  if (_.isArray(__loopIter)) {\n"+"    __loopIndex = 0; __loopLength = __loopIter.length;\n"+"    for (; __loopIndex < __loopLength; __loopIndex += 1) {\n"+"       loop.key = __loopIndex;\n"+loopShared+"    }\n"+'  } else if (typeof __loopIter === "object") {\n'+"    __keys = _.keys(__loopIter);\n"+"    __loopLength = __keys.length;\n"+"    __loopIndex = 0;\n"+"    for (; __loopIndex < __loopLength; __loopIndex += 1) {\n"+"       loop.key = __keys[__loopIndex];\n"+loopShared+"    }\n"+"  }\n"+'  _context["'+operand1+'"] = __ctx_operand;\n'+"})();\n";return out};module.exports.ends=true;return module.exports}();tags["if"]=function(){module={};module.exports=function(indent,parser){var thisArgs=_.clone(this.args),args=helpers.parseIfArgs(thisArgs,parser),out="(function () {\n";_.each(args,function(token){if(token.hasOwnProperty("preout")&&token.preout){out+=token.preout+"\n"}});out+="\nif (\n";_.each(args,function(token){out+=token.value+" "});out+=") {\n";out+=parser.compile.apply(this,[indent+"  "]);out+="\n}\n";out+="})();\n";return out};module.exports.ends=true;return module.exports}();tags["import"]=function(){module={};module.exports=function(indent,parser){if(this.args.length!==3){}var thisArgs=_.clone(this.args),file=thisArgs[0],as=thisArgs[1],name=thisArgs[2],out="";if(!helpers.isLiteral(file)&&!helpers.isValidName(file)){throw new Error('Invalid attempt to import "'+file+'".')}if(as!=="as"){throw new Error('Invalid syntax {% import "'+file+'" '+as+" "+name+" %}")}out+="_.extend(_context, (function () {\n";out+='var _context = {}, __ctx = {}, _output = "";\n'+helpers.setVar("__template",parser.parseVariable(file))+"_this.compileFile(__template).render(__ctx, _parents);\n"+"_.each(__ctx, function (item, key) {\n"+'  if (typeof item === "function") {\n'+'    _context["'+name+'_" + key] = item;\n'+"  }\n"+"});\n"+"return _context;\n";out+="})());\n";return out};return module.exports}();tags["include"]=function(){module={};module.exports=function(indent,parser){var args=_.clone(this.args),template=args.shift(),context="_context",ignore=false,out="",ctx;indent=indent||"";if(!helpers.isLiteral(template)&&!helpers.isValidName(template)){throw new Error("Invalid arguments passed to 'include' tag.")}if(args.length){if(_.last(args)==="only"){context="{}";args.pop()}if(args.length>1&&args[0]==="ignore"&args[1]==="missing"){args.shift();args.shift();ignore=true}if(args.length&&args[0]!=="with"){throw new Error("Invalid arguments passed to 'include' tag.")}if(args[0]==="with"){args.shift();if(!args.length){throw new Error("Context for 'include' tag not provided, but expected after 'with' token.")}ctx=args.shift();context='_context["'+ctx+'"] || '+ctx}}out="(function () {\n"+helpers.setVar("__template",parser.parseVariable(template))+"\n"+"  var includeContext = "+context+";\n";if(ignore){out+="try {\n"}out+='  if (typeof __template === "string") {\n';out+="    _output += _this.compileFile(__template).render(includeContext, _parents);\n";out+="  }\n";if(ignore){out+="} catch (e) {}\n"}out+="})();\n";return out};return module.exports}();tags["macro"]=function(){module={};module.exports=function(indent,parser){var thisArgs=_.clone(this.args),macro=thisArgs.shift(),args="",out="";if(thisArgs.length){args=JSON.stringify(thisArgs).replace(/^\[|\'|\"|\]$/g,"")}out+="_context."+macro+" = function ("+args+") {\n";out+='  var _output = "";\n';out+=parser.compile.apply(this,[indent+"  "]);out+="  return _output;\n";out+="};\n";return out};module.exports.ends=true;return module.exports}();tags["parent"]=function(){module={};module.exports={};return module.exports}();tags["raw"]=function(){module={};module.exports={ends:true};return module.exports}();tags["set"]=function(){module={};module.exports=function(indent,parser){var thisArgs=_.clone(this.args),varname=helpers.escapeVarName(thisArgs.shift(),"_context"),value;if(thisArgs.shift()!=="="){throw new Error('Invalid token "'+thisArgs[1]+'" in {% set '+thisArgs[0]+' %}. Missing "=".')}value=thisArgs[0];if(helpers.isLiteral(value)||/^\{|^\[/.test(value)||value==="true"||value==="false"){return" "+varname+" = "+value+";"}value=parser.parseVariable(value);return" "+varname+" = "+"(function () {\n"+"  var _output;\n"+parser.compile.apply({tokens:[value]},[indent])+"\n"+"  return _output;\n"+"})();\n"};return module.exports}();return swig}();
;/*!
 * Smooth Scroll - v1.4.11 - 2013-07-15
 * https://github.com/kswedberg/jquery-smooth-scroll
 * Copyright (c) 2013 Karl Swedberg
 * Licensed MIT (https://github.com/kswedberg/jquery-smooth-scroll/blob/master/LICENSE-MIT)
 */
(function(l){function t(l){return l.replace(/(:|\.)/g,"\\$1")}var e="1.4.11",o={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2,preventDefault:!0},r=function(t){var e=[],o=!1,r=t.dir&&"left"==t.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var t=l(this);t[r]()>0?e.push(this):(t[r](1),o=t[r]()>0,o&&e.push(this),t[r](0))}}),e.length||this.each(function(){"BODY"===this.nodeName&&(e=[this])}),"first"===t.el&&e.length>1&&(e=[e[0]]),e};l.fn.extend({scrollable:function(l){var t=r.call(this,{dir:l});return this.pushStack(t)},firstScrollable:function(l){var t=r.call(this,{el:"first",dir:l});return this.pushStack(t)},smoothScroll:function(e){e=e||{};var o=l.extend({},l.fn.smoothScroll.defaults,e),r=l.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(e){var n=this,s=l(this),c=o.exclude,i=o.excludeWithin,a=0,f=0,h=!0,u={},d=location.hostname===n.hostname||!n.hostname,m=o.scrollTarget||(l.smoothScroll.filterPath(n.pathname)||r)===r,p=t(n.hash);if(o.scrollTarget||d&&m&&p){for(;h&&c.length>a;)s.is(t(c[a++]))&&(h=!1);for(;h&&i.length>f;)s.closest(i[f++]).length&&(h=!1)}else h=!1;h&&(o.preventDefault&&e.preventDefault(),l.extend(u,o,{scrollTarget:o.scrollTarget||p,link:n}),l.smoothScroll(u))}),this}}),l.smoothScroll=function(t,e){var o,r,n,s,c=0,i="offset",a="scrollTop",f={},h={};"number"==typeof t?(o=l.fn.smoothScroll.defaults,n=t):(o=l.extend({},l.fn.smoothScroll.defaults,t||{}),o.scrollElement&&(i="position","static"==o.scrollElement.css("position")&&o.scrollElement.css("position","relative"))),o=l.extend({link:null},o),a="left"==o.direction?"scrollLeft":a,o.scrollElement?(r=o.scrollElement,c=r[a]()):r=l("html, body").firstScrollable(),o.beforeScroll.call(r,o),n="number"==typeof t?t:e||l(o.scrollTarget)[i]()&&l(o.scrollTarget)[i]()[o.direction]||0,f[a]=n+c+o.offset,s=o.speed,"auto"===s&&(s=f[a]||r.scrollTop(),s/=o.autoCoefficent),h={duration:s,easing:o.easing,complete:function(){o.afterScroll.call(o.link,o)}},o.step&&(h.step=o.step),r.length?r.stop().animate(f,h):o.afterScroll.call(o.link,o)},l.smoothScroll.version=e,l.smoothScroll.filterPath=function(l){return l.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},l.fn.smoothScroll.defaults=o})(jQuery);
;// Magnific Popup v0.9.8 by Dmitry Semenov
// http://bit.ly/magnific-popup#build=inline+image+ajax+iframe+gallery+retina+imagezoom+fastclick
(function(a){var b="Close",c="BeforeClose",d="AfterClose",e="BeforeAppend",f="MarkupParse",g="Open",h="Change",i="mfp",j="."+i,k="mfp-ready",l="mfp-removing",m="mfp-prevent-close",n,o=function(){},p=!!window.jQuery,q,r=a(window),s,t,u,v,w,x=function(a,b){n.ev.on(i+a+j,b)},y=function(b,c,d,e){var f=document.createElement("div");return f.className="mfp-"+b,d&&(f.innerHTML=d),e?c&&c.appendChild(f):(f=a(f),c&&f.appendTo(c)),f},z=function(b,c){n.ev.triggerHandler(i+b,c),n.st.callbacks&&(b=b.charAt(0).toLowerCase()+b.slice(1),n.st.callbacks[b]&&n.st.callbacks[b].apply(n,a.isArray(c)?c:[c]))},A=function(b){if(b!==w||!n.currTemplate.closeBtn)n.currTemplate.closeBtn=a(n.st.closeMarkup.replace("%title%",n.st.tClose)),w=b;return n.currTemplate.closeBtn},B=function(){a.magnificPopup.instance||(n=new o,n.init(),a.magnificPopup.instance=n)},C=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(a.transition!==undefined)return!0;while(b.length)if(b.pop()+"Transition"in a)return!0;return!1};o.prototype={constructor:o,init:function(){var b=navigator.appVersion;n.isIE7=b.indexOf("MSIE 7.")!==-1,n.isIE8=b.indexOf("MSIE 8.")!==-1,n.isLowIE=n.isIE7||n.isIE8,n.isAndroid=/android/gi.test(b),n.isIOS=/iphone|ipad|ipod/gi.test(b),n.supportsTransition=C(),n.probablyMobile=n.isAndroid||n.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),s=a(document.body),t=a(document),n.popupsCache={}},open:function(b){var c;if(b.isObj===!1){n.items=b.items.toArray(),n.index=0;var d=b.items,e;for(c=0;c<d.length;c++){e=d[c],e.parsed&&(e=e.el[0]);if(e===b.el[0]){n.index=c;break}}}else n.items=a.isArray(b.items)?b.items:[b.items],n.index=b.index||0;if(n.isOpen){n.updateItemHTML();return}n.types=[],v="",b.mainEl&&b.mainEl.length?n.ev=b.mainEl.eq(0):n.ev=t,b.key?(n.popupsCache[b.key]||(n.popupsCache[b.key]={}),n.currTemplate=n.popupsCache[b.key]):n.currTemplate={},n.st=a.extend(!0,{},a.magnificPopup.defaults,b),n.fixedContentPos=n.st.fixedContentPos==="auto"?!n.probablyMobile:n.st.fixedContentPos,n.st.modal&&(n.st.closeOnContentClick=!1,n.st.closeOnBgClick=!1,n.st.showCloseBtn=!1,n.st.enableEscapeKey=!1),n.bgOverlay||(n.bgOverlay=y("bg").on("click"+j,function(){n.close()}),n.wrap=y("wrap").attr("tabindex",-1).on("click"+j,function(a){n._checkIfClose(a.target)&&n.close()}),n.container=y("container",n.wrap)),n.contentContainer=y("content"),n.st.preloader&&(n.preloader=y("preloader",n.container,n.st.tLoading));var h=a.magnificPopup.modules;for(c=0;c<h.length;c++){var i=h[c];i=i.charAt(0).toUpperCase()+i.slice(1),n["init"+i].call(n)}z("BeforeOpen"),n.st.showCloseBtn&&(n.st.closeBtnInside?(x(f,function(a,b,c,d){c.close_replaceWith=A(d.type)}),v+=" mfp-close-btn-in"):n.wrap.append(A())),n.st.alignTop&&(v+=" mfp-align-top"),n.fixedContentPos?n.wrap.css({overflow:n.st.overflowY,overflowX:"hidden",overflowY:n.st.overflowY}):n.wrap.css({top:r.scrollTop(),position:"absolute"}),(n.st.fixedBgPos===!1||n.st.fixedBgPos==="auto"&&!n.fixedContentPos)&&n.bgOverlay.css({height:t.height(),position:"absolute"}),n.st.enableEscapeKey&&t.on("keyup"+j,function(a){a.keyCode===27&&n.close()}),r.on("resize"+j,function(){n.updateSize()}),n.st.closeOnContentClick||(v+=" mfp-auto-cursor"),v&&n.wrap.addClass(v);var l=n.wH=r.height(),m={};if(n.fixedContentPos&&n._hasScrollBar(l)){var o=n._getScrollbarSize();o&&(m.marginRight=o)}n.fixedContentPos&&(n.isIE7?a("body, html").css("overflow","hidden"):m.overflow="hidden");var p=n.st.mainClass;return n.isIE7&&(p+=" mfp-ie7"),p&&n._addClassToMFP(p),n.updateItemHTML(),z("BuildControls"),a("html").css(m),n.bgOverlay.add(n.wrap).prependTo(document.body),n._lastFocusedEl=document.activeElement,setTimeout(function(){n.content?(n._addClassToMFP(k),n._setFocus()):n.bgOverlay.addClass(k),t.on("focusin"+j,n._onFocusIn)},16),n.isOpen=!0,n.updateSize(l),z(g),b},close:function(){if(!n.isOpen)return;z(c),n.isOpen=!1,n.st.removalDelay&&!n.isLowIE&&n.supportsTransition?(n._addClassToMFP(l),setTimeout(function(){n._close()},n.st.removalDelay)):n._close()},_close:function(){z(b);var c=l+" "+k+" ";n.bgOverlay.detach(),n.wrap.detach(),n.container.empty(),n.st.mainClass&&(c+=n.st.mainClass+" "),n._removeClassFromMFP(c);if(n.fixedContentPos){var e={marginRight:""};n.isIE7?a("body, html").css("overflow",""):e.overflow="",a("html").css(e)}t.off("keyup"+j+" focusin"+j),n.ev.off(j),n.wrap.attr("class","mfp-wrap").removeAttr("style"),n.bgOverlay.attr("class","mfp-bg"),n.container.attr("class","mfp-container"),n.st.showCloseBtn&&(!n.st.closeBtnInside||n.currTemplate[n.currItem.type]===!0)&&n.currTemplate.closeBtn&&n.currTemplate.closeBtn.detach(),n._lastFocusedEl&&a(n._lastFocusedEl).focus(),n.currItem=null,n.content=null,n.currTemplate=null,n.prevHeight=0,z(d)},updateSize:function(a){if(n.isIOS){var b=document.documentElement.clientWidth/window.innerWidth,c=window.innerHeight*b;n.wrap.css("height",c),n.wH=c}else n.wH=a||r.height();n.fixedContentPos||n.wrap.css("height",n.wH),z("Resize")},updateItemHTML:function(){var b=n.items[n.index];n.contentContainer.detach(),n.content&&n.content.detach(),b.parsed||(b=n.parseEl(n.index));var c=b.type;z("BeforeChange",[n.currItem?n.currItem.type:"",c]),n.currItem=b;if(!n.currTemplate[c]){var d=n.st[c]?n.st[c].markup:!1;z("FirstMarkupParse",d),d?n.currTemplate[c]=a(d):n.currTemplate[c]=!0}u&&u!==b.type&&n.container.removeClass("mfp-"+u+"-holder");var e=n["get"+c.charAt(0).toUpperCase()+c.slice(1)](b,n.currTemplate[c]);n.appendContent(e,c),b.preloaded=!0,z(h,b),u=b.type,n.container.prepend(n.contentContainer),z("AfterChange")},appendContent:function(a,b){n.content=a,a?n.st.showCloseBtn&&n.st.closeBtnInside&&n.currTemplate[b]===!0?n.content.find(".mfp-close").length||n.content.append(A()):n.content=a:n.content="",z(e),n.container.addClass("mfp-"+b+"-holder"),n.contentContainer.append(n.content)},parseEl:function(b){var c=n.items[b],d=c.type;c.tagName?c={el:a(c)}:c={data:c,src:c.src};if(c.el){var e=n.types;for(var f=0;f<e.length;f++)if(c.el.hasClass("mfp-"+e[f])){d=e[f];break}c.src=c.el.attr("data-mfp-src"),c.src||(c.src=c.el.attr("href"))}return c.type=d||n.st.type||"inline",c.index=b,c.parsed=!0,n.items[b]=c,z("ElementParse",c),n.items[b]},addGroup:function(a,b){var c=function(c){c.mfpEl=this,n._openClick(c,a,b)};b||(b={});var d="click.magnificPopup";b.mainEl=a,b.items?(b.isObj=!0,a.off(d).on(d,c)):(b.isObj=!1,b.delegate?a.off(d).on(d,b.delegate,c):(b.items=a,a.off(d).on(d,c)))},_openClick:function(b,c,d){var e=d.midClick!==undefined?d.midClick:a.magnificPopup.defaults.midClick;if(!e&&(b.which===2||b.ctrlKey||b.metaKey))return;var f=d.disableOn!==undefined?d.disableOn:a.magnificPopup.defaults.disableOn;if(f)if(a.isFunction(f)){if(!f.call(n))return!0}else if(r.width()<f)return!0;b.type&&(b.preventDefault(),n.isOpen&&b.stopPropagation()),d.el=a(b.mfpEl),d.delegate&&(d.items=c.find(d.delegate)),n.open(d)},updateStatus:function(a,b){if(n.preloader){q!==a&&n.container.removeClass("mfp-s-"+q),!b&&a==="loading"&&(b=n.st.tLoading);var c={status:a,text:b};z("UpdateStatus",c),a=c.status,b=c.text,n.preloader.html(b),n.preloader.find("a").on("click",function(a){a.stopImmediatePropagation()}),n.container.addClass("mfp-s-"+a),q=a}},_checkIfClose:function(b){if(a(b).hasClass(m))return;var c=n.st.closeOnContentClick,d=n.st.closeOnBgClick;if(c&&d)return!0;if(!n.content||a(b).hasClass("mfp-close")||n.preloader&&b===n.preloader[0])return!0;if(b!==n.content[0]&&!a.contains(n.content[0],b)){if(d&&a.contains(document,b))return!0}else if(c)return!0;return!1},_addClassToMFP:function(a){n.bgOverlay.addClass(a),n.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),n.wrap.removeClass(a)},_hasScrollBar:function(a){return(n.isIE7?t.height():document.body.scrollHeight)>(a||r.height())},_setFocus:function(){(n.st.focus?n.content.find(n.st.focus).eq(0):n.wrap).focus()},_onFocusIn:function(b){if(b.target!==n.wrap[0]&&!a.contains(n.wrap[0],b.target))return n._setFocus(),!1},_parseMarkup:function(b,c,d){var e;d.data&&(c=a.extend(d.data,c)),z(f,[b,c,d]),a.each(c,function(a,c){if(c===undefined||c===!1)return!0;e=a.split("_");if(e.length>1){var d=b.find(j+"-"+e[0]);if(d.length>0){var f=e[1];f==="replaceWith"?d[0]!==c[0]&&d.replaceWith(c):f==="img"?d.is("img")?d.attr("src",c):d.replaceWith('<img src="'+c+'" class="'+d.attr("class")+'" />'):d.attr(e[1],c)}}else b.find(j+"-"+a).html(c)})},_getScrollbarSize:function(){if(n.scrollbarSize===undefined){var a=document.createElement("div");a.id="mfp-sbm",a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),n.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return n.scrollbarSize}},a.magnificPopup={instance:null,proto:o.prototype,modules:[],open:function(b,c){return B(),b?b=a.extend(!0,{},b):b={},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options),a.extend(this.proto,c.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},a.fn.magnificPopup=function(b){B();var c=a(this);if(typeof b=="string")if(b==="open"){var d,e=p?c.data("magnificPopup"):c[0].magnificPopup,f=parseInt(arguments[1],10)||0;e.items?d=e.items[f]:(d=c,e.delegate&&(d=d.find(e.delegate)),d=d.eq(f)),n._openClick({mfpEl:d},c,e)}else n.isOpen&&n[b].apply(n,Array.prototype.slice.call(arguments,1));else b=a.extend(!0,{},b),p?c.data("magnificPopup",b):c[0].magnificPopup=b,n.addGroup(c,b);return c};var D="inline",E,F,G,H=function(){G&&(F.after(G.addClass(E)).detach(),G=null)};a.magnificPopup.registerModule(D,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){n.types.push(D),x(b+"."+D,function(){H()})},getInline:function(b,c){H();if(b.src){var d=n.st.inline,e=a(b.src);if(e.length){var f=e[0].parentNode;f&&f.tagName&&(F||(E=d.hiddenClass,F=y(E),E="mfp-"+E),G=e.after(F).detach().removeClass(E)),n.updateStatus("ready")}else n.updateStatus("error",d.tNotFound),e=a("<div>");return b.inlineElement=e,e}return n.updateStatus("ready"),n._parseMarkup(c,{},b),c}}});var I="ajax",J,K=function(){J&&s.removeClass(J)},L=function(){K(),n.req&&n.req.abort()};a.magnificPopup.registerModule(I,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){n.types.push(I),J=n.st.ajax.cursor,x(b+"."+I,L),x("BeforeChange."+I,L)},getAjax:function(b){J&&s.addClass(J),n.updateStatus("loading");var c=a.extend({url:b.src,success:function(c,d,e){var f={data:c,xhr:e};z("ParseAjax",f),n.appendContent(a(f.data),I),b.finished=!0,K(),n._setFocus(),setTimeout(function(){n.wrap.addClass(k)},16),n.updateStatus("ready"),z("AjaxContentAdded")},error:function(){K(),b.finished=b.loadError=!0,n.updateStatus("error",n.st.ajax.tError.replace("%url%",b.src))}},n.st.ajax.settings);return n.req=a.ajax(c),""}}});var M,N=function(b){if(b.data&&b.data.title!==undefined)return b.data.title;var c=n.st.image.titleSrc;if(c){if(a.isFunction(c))return c.call(n,b);if(b.el)return b.el.attr(c)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var a=n.st.image,c=".image";n.types.push("image"),x(g+c,function(){n.currItem.type==="image"&&a.cursor&&s.addClass(a.cursor)}),x(b+c,function(){a.cursor&&s.removeClass(a.cursor),r.off("resize"+j)}),x("Resize"+c,n.resizeImage),n.isLowIE&&x("AfterChange",n.resizeImage)},resizeImage:function(){var a=n.currItem;if(!a||!a.img)return;if(n.st.image.verticalFit){var b=0;n.isLowIE&&(b=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10)),a.img.css("max-height",n.wH-b)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,M&&clearInterval(M),a.isCheckingImgSize=!1,z("ImageHasSize",a),a.imgHidden&&(n.content&&n.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var b=0,c=a.img[0],d=function(e){M&&clearInterval(M),M=setInterval(function(){if(c.naturalWidth>0){n._onImageHasSize(a);return}b>200&&clearInterval(M),b++,b===3?d(10):b===40?d(50):b===100&&d(500)},e)};d(1)},getImage:function(b,c){var d=0,e=function(){b&&(b.img[0].complete?(b.img.off(".mfploader"),b===n.currItem&&(n._onImageHasSize(b),n.updateStatus("ready")),b.hasSize=!0,b.loaded=!0,z("ImageLoadComplete")):(d++,d<200?setTimeout(e,100):f()))},f=function(){b&&(b.img.off(".mfploader"),b===n.currItem&&(n._onImageHasSize(b),n.updateStatus("error",g.tError.replace("%url%",b.src))),b.hasSize=!0,b.loaded=!0,b.loadError=!0)},g=n.st.image,h=c.find(".mfp-img");if(h.length){var i=document.createElement("img");i.className="mfp-img",b.img=a(i).on("load.mfploader",e).on("error.mfploader",f),i.src=b.src,h.is("img")&&(b.img=b.img.clone()),b.img[0].naturalWidth>0&&(b.hasSize=!0)}return n._parseMarkup(c,{title:N(b),img_replaceWith:b.img},b),n.resizeImage(),b.hasSize?(M&&clearInterval(M),b.loadError?(c.addClass("mfp-loading"),n.updateStatus("error",g.tError.replace("%url%",b.src))):(c.removeClass("mfp-loading"),n.updateStatus("ready")),c):(n.updateStatus("loading"),b.loading=!0,b.hasSize||(b.imgHidden=!0,c.addClass("mfp-loading"),n.findImageSize(b)),c)}}});var O,P=function(){return O===undefined&&(O=document.createElement("p").style.MozTransform!==undefined),O};a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var a=n.st.zoom,d=".zoom",e;if(!a.enabled||!n.supportsTransition)return;var f=a.duration,g=function(b){var c=b.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),d="all "+a.duration/1e3+"s "+a.easing,e={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},f="transition";return e["-webkit-"+f]=e["-moz-"+f]=e["-o-"+f]=e[f]=d,c.css(e),c},h=function(){n.content.css("visibility","visible")},i,j;x("BuildControls"+d,function(){if(n._allowZoom()){clearTimeout(i),n.content.css("visibility","hidden"),e=n._getItemToZoom();if(!e){h();return}j=g(e),j.css(n._getOffset()),n.wrap.append(j),i=setTimeout(function(){j.css(n._getOffset(!0)),i=setTimeout(function(){h(),setTimeout(function(){j.remove(),e=j=null,z("ZoomAnimationEnded")},16)},f)},16)}}),x(c+d,function(){if(n._allowZoom()){clearTimeout(i),n.st.removalDelay=f;if(!e){e=n._getItemToZoom();if(!e)return;j=g(e)}j.css(n._getOffset(!0)),n.wrap.append(j),n.content.css("visibility","hidden"),setTimeout(function(){j.css(n._getOffset())},16)}}),x(b+d,function(){n._allowZoom()&&(h(),j&&j.remove(),e=null)})},_allowZoom:function(){return n.currItem.type==="image"},_getItemToZoom:function(){return n.currItem.hasSize?n.currItem.img:!1},_getOffset:function(b){var c;b?c=n.currItem.img:c=n.st.zoom.opener(n.currItem.el||n.currItem);var d=c.offset(),e=parseInt(c.css("padding-top"),10),f=parseInt(c.css("padding-bottom"),10);d.top-=a(window).scrollTop()-e;var g={width:c.width(),height:(p?c.innerHeight():c[0].offsetHeight)-f-e};return P()?g["-moz-transform"]=g.transform="translate("+d.left+"px,"+d.top+"px)":(g.left=d.left,g.top=d.top),g}}});var Q="iframe",R="//about:blank",S=function(a){if(n.currTemplate[Q]){var b=n.currTemplate[Q].find("iframe");b.length&&(a||(b[0].src=R),n.isIE8&&b.css("display",a?"block":"none"))}};a.magnificPopup.registerModule(Q,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){n.types.push(Q),x("BeforeChange",function(a,b,c){b!==c&&(b===Q?S():c===Q&&S(!0))}),x(b+"."+Q,function(){S()})},getIframe:function(b,c){var d=b.src,e=n.st.iframe;a.each(e.patterns,function(){if(d.indexOf(this.index)>-1)return this.id&&(typeof this.id=="string"?d=d.substr(d.lastIndexOf(this.id)+this.id.length,d.length):d=this.id.call(this,d)),d=this.src.replace("%id%",d),!1});var f={};return e.srcAction&&(f[e.srcAction]=d),n._parseMarkup(c,f,b),n.updateStatus("ready"),c}}});var T=function(a){var b=n.items.length;return a>b-1?a-b:a<0?b+a:a},U=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=n.st.gallery,d=".mfp-gallery",e=Boolean(a.fn.mfpFastClick);n.direction=!0;if(!c||!c.enabled)return!1;v+=" mfp-gallery",x(g+d,function(){c.navigateByImgClick&&n.wrap.on("click"+d,".mfp-img",function(){if(n.items.length>1)return n.next(),!1}),t.on("keydown"+d,function(a){a.keyCode===37?n.prev():a.keyCode===39&&n.next()})}),x("UpdateStatus"+d,function(a,b){b.text&&(b.text=U(b.text,n.currItem.index,n.items.length))}),x(f+d,function(a,b,d,e){var f=n.items.length;d.counter=f>1?U(c.tCounter,e.index,f):""}),x("BuildControls"+d,function(){if(n.items.length>1&&c.arrows&&!n.arrowLeft){var b=c.arrowMarkup,d=n.arrowLeft=a(b.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,"left")).addClass(m),f=n.arrowRight=a(b.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,"right")).addClass(m),g=e?"mfpFastClick":"click";d[g](function(){n.prev()}),f[g](function(){n.next()}),n.isIE7&&(y("b",d[0],!1,!0),y("a",d[0],!1,!0),y("b",f[0],!1,!0),y("a",f[0],!1,!0)),n.container.append(d.add(f))}}),x(h+d,function(){n._preloadTimeout&&clearTimeout(n._preloadTimeout),n._preloadTimeout=setTimeout(function(){n.preloadNearbyImages(),n._preloadTimeout=null},16)}),x(b+d,function(){t.off(d),n.wrap.off("click"+d),n.arrowLeft&&e&&n.arrowLeft.add(n.arrowRight).destroyMfpFastClick(),n.arrowRight=n.arrowLeft=null})},next:function(){n.direction=!0,n.index=T(n.index+1),n.updateItemHTML()},prev:function(){n.direction=!1,n.index=T(n.index-1),n.updateItemHTML()},goTo:function(a){n.direction=a>=n.index,n.index=a,n.updateItemHTML()},preloadNearbyImages:function(){var a=n.st.gallery.preload,b=Math.min(a[0],n.items.length),c=Math.min(a[1],n.items.length),d;for(d=1;d<=(n.direction?c:b);d++)n._preloadItem(n.index+d);for(d=1;d<=(n.direction?b:c);d++)n._preloadItem(n.index-d)},_preloadItem:function(b){b=T(b);if(n.items[b].preloaded)return;var c=n.items[b];c.parsed||(c=n.parseEl(b)),z("LazyLoad",c),c.type==="image"&&(c.img=a('<img class="mfp-img" />').on("load.mfploader",function(){c.hasSize=!0}).on("error.mfploader",function(){c.hasSize=!0,c.loadError=!0,z("LazyLoadError",c)}).attr("src",c.src)),c.preloaded=!0}}});var V="retina";a.magnificPopup.registerModule(V,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var a=n.st.retina,b=a.ratio;b=isNaN(b)?b():b,b>1&&(x("ImageHasSize."+V,function(a,c){c.img.css({"max-width":c.img[0].naturalWidth/b,width:"100%"})}),x("ElementParse."+V,function(c,d){d.src=a.replaceSrc(d,b)}))}}}}),function(){var b=1e3,c="ontouchstart"in window,d=function(){r.off("touchmove"+f+" touchend"+f)},e="mfpFastClick",f="."+e;a.fn.mfpFastClick=function(e){return a(this).each(function(){var g=a(this),h;if(c){var i,j,k,l,m,n;g.on("touchstart"+f,function(a){l=!1,n=1,m=a.originalEvent?a.originalEvent.touches[0]:a.touches[0],j=m.clientX,k=m.clientY,r.on("touchmove"+f,function(a){m=a.originalEvent?a.originalEvent.touches:a.touches,n=m.length,m=m[0];if(Math.abs(m.clientX-j)>10||Math.abs(m.clientY-k)>10)l=!0,d()}).on("touchend"+f,function(a){d();if(l||n>1)return;h=!0,a.preventDefault(),clearTimeout(i),i=setTimeout(function(){h=!1},b),e()})})}g.on("click"+f,function(){h||e()})})},a.fn.destroyMfpFastClick=function(){a(this).off("touchstart"+f+" click"+f),c&&r.off("touchmove"+f+" touchend"+f)}}(),B()})(window.jQuery||window.Zepto)
;/**
 *   Unslider by @idiot
 */
 
(function($, f) {
	//  If there's no jQuery, Unslider can't work, so kill the operation.
	if(!$) return f;
	
	var Unslider = function() {
		//  Set up our elements
		this.el = f;
		this.items = f;
		
		//  Dimensions
		this.sizes = [];
		this.max = [0,0];
		
		//  Current inded
		this.current = 0;
		
		//  Start/stop timer
		this.interval = f;
				
		//  Set some options
		this.opts = {
			speed: 500,
			delay: 3000, // f for no autoplay
			complete: f, // when a slide's finished
			keys: !f, // keyboard shortcuts - disable if it breaks things
			dots: f, // display ••••o• pagination
			fluid: f, // is it a percentage width?,
		};
		
		//  Create a deep clone for methods where context changes
		var _ = this;

		this.init = function(el, opts) {
			this.el = el;
			this.ul = el.children('ul');
			this.max = [el.outerWidth(), el.outerHeight()];			
			this.items = this.ul.children('li').each(this.calculate);
			
			//  Check whether we're passing any options in to Unslider
			this.opts = $.extend(this.opts, opts);
			
			//  Set up the Unslider
			this.setup();
			
			return this;
		};
		
		//  Get the width for an element
		//  Pass a jQuery element as the context with .call(), and the index as a parameter: Unslider.calculate.call($('li:first'), 0)
		this.calculate = function(index) {
			var me = $(this),
				width = me.outerWidth(), height = me.outerHeight();
			
			//  Add it to the sizes list
			_.sizes[index] = [width, height];
			
			//  Set the max values
			if(width > _.max[0]) _.max[0] = width;
			if(height > _.max[1]) _.max[1] = height;
		};
		
		//  Work out what methods need calling
		this.setup = function() {
			//  Set the main element
			this.el.css({
				overflow: 'hidden',
				width: _.max[0],
				height: this.items.first().outerHeight()
			});
			
			//  Set the relative widths
			this.ul.css({width: (this.items.length * 100) + '%', position: 'relative'});
			this.items.css('width', (100 / this.items.length) + '%');
			
			if(this.opts.delay !== f) {
				this.start();
				this.el.hover(this.stop, this.start);
			}
			
			//  Custom keyboard support
			this.opts.keys && $(document).keydown(this.keys);
			
			//  Dot pagination
			this.opts.dots && this.dots();
			
			//  Little patch for fluid-width sliders. Screw those guys.
			this.opts.fluid && $(window).resize(function() {
				_.el.css('width', Math.min(Math.round((_.el.outerWidth() / _.el.parent().outerWidth()) * 100), 100) + '%');
			});
			
			if(this.opts.arrows) {
				this.el.parent().append('<p class="arrows"><span class="prev">←</span><span class="next">→</span></p>')
					.find('.arrows span').click(function() {
						$.isFunction(_[this.className]) && _[this.className]();
					});
			};
			
			//  Swipe support
			if($.event.swipe) {
				this.el.on('swipeleft', _.prev).on('swiperight', _.next);
			}
		};
		
		//  Move Unslider to a slide index
		this.move = function(index, cb) {
			//  If it's out of bounds, go to the first slide
			if(!this.items.eq(index).length) index = 0;
			if(index < 0) index = (this.items.length - 1);
			
			var target = this.items.eq(index);
			var obj = {height: target.outerHeight()};
			var speed = cb ? 5 : this.opts.speed;
			
			if(!this.ul.is(':animated')) {			
				//  Handle those pesky dots
				_.el.find('.dot:eq(' + index + ')').addClass('active').siblings().removeClass('active');

				this.el.animate(obj, speed) && this.ul.animate($.extend({left: '-' + index + '00%'}, obj), speed, function(data) {
					_.current = index;
					$.isFunction(_.opts.complete) && !cb && _.opts.complete(_.el);
				});
			}
		};
		
		//  Autoplay functionality
		this.start = function() {
			_.interval = setInterval(function() {
				_.move(_.current + 1);
			}, _.opts.delay);
		};
		
		//  Stop autoplay
		this.stop = function() {
			_.interval = clearInterval(_.interval);
			return _;
		};
		
		//  Keypresses
		this.keys = function(e) {
			var key = e.which;
			var map = {
				//  Prev/next
				37: _.prev,
				39: _.next,
				
				//  Esc
				27: _.stop
			};
			
			if($.isFunction(map[key])) {
				map[key]();
			}
		};
		
		//  Arrow navigation
		this.next = function() { return _.stop().move(_.current + 1) };
		this.prev = function() { return _.stop().move(_.current - 1) };
		
		this.dots = function() {
			//  Create the HTML
			var html = '<ol class="dots">';
				$.each(this.items, function(index) { html += '<li class="dot' + (index < 1 ? ' active' : '') + '">' + index + '</li>'; });
				html += '</ol>';
			
			//  Add it to the Unslider
			this.el.addClass('has-dots').append(html).find('.dot').click(function() {
				_.move($(this).index());
			});
		};
	};
	
	//  Create a jQuery plugin
	$.fn.unslider = function(o) {
		var len = this.length;
		
		//  Enable multiple-slider support
		return this.each(function(index) {
			//  Cache a copy of $(this), so it 
			var me = $(this);
			var instance = (new Unslider).init(me, o);
			
			//  Invoke an Unslider instance
			me.data('unslider' + (len > 1 ? '-' + (index + 1) : ''), instance);
		});
	};
})(window.jQuery, false);
;
//# sourceMappingURL=vendor.js.map